<!DOCTYPE html>
<html>
  <head>
    <title>Wigfrid Timeline</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
      /* Define timeline styles */
      .timeline {
        font-family: Arial, sans-serif;
        font-size: 14px;
        fill: #555;
      }

      .timeline rect {
        fill: #ccc;
        stroke: #fff;
        stroke-width: 2px;
      }

      .timeline text {
        fill: #333;
      }
    </style>
  </head>
  <body>
    <div id="timeline"></div>

    <script>
      // Define timeline data
      const data = [
        { label: "Days 1-3", start: 1, end: 3, details: "<ul><li>Collect basic resources</li><li>Search for a good base location</li><li>Craft a spear and a battle helm</li><li>Explore the map and collect meat-based foods</li><li>Build a fire pit and a science machine</li><li>Hunt rabbits, spiders, and other small creatures for meat</li><li>Start building a basic base</li></ul>" },
        { label: "Days 4-7", start: 4, end: 7, details: "<ul><li>Explore the map and collect resources like gold, rocks, and logs</li><li>Start gathering materials to build more advanced structures</li><li>Continue hunting and cooking meat in the crock pot</li><li>Build a farm to grow crops</li><li>Start gathering materials to craft a better weapon</li><li>Hunt beefalo</li></ul>" },
        { label: "Days 8-12", start: 8, end: 12, details: "<ul><li>Expand your base by building additional structures</li><li>Start exploring more dangerous areas of the map</li><li>Hunt spiders and collect silk and monster meat</li><li>Craft a football helmet or a beekeeper hat</li><li>Start collecting materials to build an alchemy engine</li><li>Collect honey and start making honey ham</li></ul>" },
        { label: "Days 13-17", start: 13, end: 17, details: "<ul><li>Continue exploring the map and collecting rare resources</li><li>Start crafting more advanced items</li><li>Build a pig house or recruit followers</li><li>Start building a meat effigy</li><li>Collect food like frog legs and fish</li><li>Hunt tallbirds</li></ul>" },
        { label: "Days 18-20", start: 18, end: 20, details: "<ul><li>Continue building and expanding your base</li><li>Focus on gathering rare resources</li><li>Build a shadow manipulator</li><li>Start collecting nightmare fuel</li><li>Explore the map and prepare for winter</li></ul>" },
      ];

      // Define timeline dimensions
      const width = 1000;
      const height = 2000;
      const margin = { top: 20, right: 20, bottom: 20, left: 20 };
      const innerWidth = width - margin.left - margin.right;
      const innerHeight = height - margin.top - margin.bottom;

      // Create SVG element
      const svg = d3.select("#timeline")
        .append("svg")
        .attr("width", width)
        .attr("height", height);

      // Define scales
      const xScale = d3.scaleLinear()
        .domain([1, 20])
        .range([margin.left, innerWidth + margin.left]);
      
      // Add timeline labels
      svg.selectAll("text")
        .data(data)
        .enter()
         .append("text")
         .attr("x", d => xScale(d.start) + (xScale(d.end) - xScale(d.start)) / 2)
         .attr("y", margin.top)
         .text(d => d.label)
         .attr("text-anchor", "middle")
         .attr("alignment-baseline", "hanging")
         .attr("fill", "blue")
         .style("font", "20px 'Arial', sans-serif");
      
      // Add timeline rectangles
      svg.selectAll("rect")
        .data(data)
        .enter()
        .append("rect")
        .attr("x", d => xScale(d.start))
        .attr("y", 50)
        .attr("width", d => xScale(d.end) - xScale(d.start))
        .attr("height", 20);

      // Add timeline details
      svg.selectAll("foreignObject")
        .data(data)
        .enter()
        .append("foreignObject")
        .attr("x", d => xScale(d.start))
        .attr("y", 75)
        .attr("width", d => xScale(d.end) - xScale(d.start))
        .attr("height", 1000)
        .append("xhtml:body")
        .style("font", "14px 'Arial', sans-serif")
        .append("xhtml:ul")
        .selectAll("xhtml:li")
        .data(d => d.details.split("\n"))
        .enter()
        .append("xhtml:li")
        .html(d => d);

    </script>
 </body>
</html>
